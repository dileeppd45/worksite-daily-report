<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WorkSheet</title>
    <style>
       /* General Table Styling */
    .bill-table {
        margin: 0 auto; 
        background-color: #fff;
        border-collapse: collapse;
        border-radius: 8px;
        border: 1px solid #ddd;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        font-family: Arial, sans-serif;
        font-size: 16px;
        width: 100%;
        table-layout: fixed; /* Forces table to stay inside its parent width */
        word-wrap: break-word;
    }

    .bill-table th {
        background-color: #ede9e9; /* Dark gray for headers */
        color: #1687f9; /* White text for headers */
        font-size: 18px; /* Larger font for headers */
        padding: 12px; 
        text-align: left;
        text-transform: uppercase;
    }

    .bill-table td {
        border: 1px solid #ddd; /* Thin borders for all cells */
        padding: 10px;
        font-size: 16px; /* Standard font size for cells */
        color: #333; /* Darker text for clarity */
    }

    /* Alternating Row Backgrounds */
    .bill-table tr:nth-child(even) {
        background-color: #f9f9f9; /* Light gray for even rows */
    }

    .bill-table tr:nth-child(odd) {
        background-color: #fff; /* White for odd rows */
    }

    /* Highlight Important Text */
    .bill-table .site-name {
        font-weight: bold;
        font-size: 18px;
        color: #333; /* Dark gray for site names */
    }

   

    .bill-table .employee-info {
        font-weight: bold;
        color: #5cb85c; /* Green for employee info */
    }

    /* No Data Rows */
    .bill-table .no-data {
        text-align: center;
        color: #888; /* Light gray for no data messages */
        font-size: 16px;
        font-style: italic;
    }

    /* Header Row Bottom Borders */
    .bill-table th {
        border-bottom: 2px solid #ccc;
    }

    /* Hover Effects */
    .bill-table tr:hover {
        background-color: #f1f1f1; /* Subtle light gray hover effect */
    }
    .navbar {
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
        }
        .table-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
        }

        /* Navigation */
        .nav-list {
            list-style: none;
            padding: 0;
            position: absolute;
            top: 29px;
            right: 20px;
        }

        .nav-items {
            display: inline;
            font-size: 18px;
        }

        .nav-items a {
            color: #007bff;
            text-decoration: none;
            margin-right: 15px;
            transition: color 0.3s ease-in-out;
            border: 1px solid #007bff;
            padding: 10px 15px;
            border-radius: 5px;
            background-color: #fff;
        }

        .nav-items a:hover {
            background-color: #5f7878;
            color: #fff;
        }

        /* Button Links */
        .add-category-link,
        .add-bag-link,
        .home-link {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            text-decoration: none;
            color: #fff;
            font-weight: bold;
            transition: opacity 0.3s ease-in-out;
        }

        .add-category-link {
            background-color: #28a745;
        }

        .add-bag-link {
            background-color: #007bff;
        }

        .home-link {
            background-color: #333;
        }

        .add-category-link:hover,
        .add-bag-link:hover,
        .home-link:hover {
            opacity: 0.8;
        }

        /* Product List Styling */
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            grid-gap: 20px;
            padding: 20px;
        }

        /* Table Styling */
        

        .bill-table th,
        .bill-table td {
            border: 1px solid #ddd;
            padding: 20px;
            text-align: left;
            font-size: 16px;
        }

        .bill-table tr th {
            font-weight: bold;
            color: #59d298;
        }

    </style>
</head>
<body>
    <h2 class="table-title">Site Work Report</h2>
    <br>
    <table class="bill-table">  
        <tr><th colspan="6"></th></tr>                      
        {% for i in alls %}
            <tr>
                <th align="center" style="width:30px;">#</th>
                <th>Site</th>
                <th>Status/Description</th>
                <th >Details</th>
                <th colspan="2">Materials</th>
            </tr>
            <tr>
                <td align="center" style="color: #1687f9;">{{ forloop.counter|add:start|add:"-1" }}</td>
                <td style="color: #1687f9;" class="site-name"><div style="word-wrap: break-word; min-height: 20px;">{{ i.0.0 }}</div></td>
                <td ><div style="word-wrap: break-word; min-height: 20px;">{{ i.0.1 }}</div></td>
                <td ><div style="word-wrap: break-word; min-height: 20px;">{{ i.0.2 }}</div></td>
                <td colspan="2"><div style="word-wrap: break-word; min-height: 20px;">{{ i.0.4 }}</div></td>
            </tr>
            <tr>
                <th></th>
                <th colspan="5"> <h2>Works in {{ i.0.0 }}</h2></th>
            </tr>
            <tr>
                <th></th>
                <th align="center">#</th>
                <th>Work</th>
                <th>Start - End Date</th>
                <th colspan="2">Status</th>
            </tr>
            {% for j in i.0.3 %}
                <tr>
                    <td></td>
                    <td align="center" style=" color: #cf1aeb;">{{ forloop.counter }}</td>
                    <td><div style="word-wrap: break-word; min-height: 20px; color: #cf1aeb;">{{ j.0 }}</div></td>
                    <td style="word-wrap: break-word;">{{ j.1|date:"d-m-Y" }} - {{ j.2|date:"d-m-Y" }}</td>
                    <td colspan="2"  class="work-status">{{ j.3 }}</td>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th colspan="4"><h3>Daywise Reports of Work</h3></th>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th align="center">#</th>
                    <th>Date</th>
                    <th colspan="2">Remarks</th>
                </tr>
                {% for k in j.4 %}
                    <tr>
                        <td></td>
                        <td></td>
                        <td align="center" style=" color: #eb1a8d;" >{{ forloop.counter }}</td>
                        <td style="color: #eb1a8d; word-wrap: break-word;">{{ k.0|date:"d-m-Y" }}</td>
                        <td colspan="2" class="remarks"><div style="word-wrap: break-word; min-height: 20px;">{{ k.1 }}</div></td>
                    </tr>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th colspan="3"><h4>Assigned Employees</h4></th>
                    </tr>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th align="center">#</th>
                        <th>Employee</th>
                        <th>Remarks</th>                            
                    </tr>
                    {% for l in k.2 %}
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td align="center" style="color: #1aeba2;" >{{ forloop.counter }}</td>
                            <td style="color: #1aeba2; word-wrap: break-word;">{{ l.0 }} ({{l.2}})</td>
                            <td class="remarks"><div style="word-wrap: break-word; min-height: 20px;">{{ l.3 }}</div> </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="6" class="no-data">No Employees Assigned.</td>
                        </tr>
                    {% endfor %}
                {% empty %}
                    <tr>
                        <td colspan="6" class="no-data">No Reports Available.</td>
                    </tr>
                {% endfor %}
            {% empty %}
                <tr>
                    <td colspan="6" class="no-data">No Works Assigned.</td>
                </tr>
            {% endfor %}
            <tr><th colspan="6"></th></tr>
            <tr><th colspan="6"></th></tr>
        {% empty %}
            <tr>
                <td colspan="6" class="no-data">No Sites Available.</td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>